{"id":"sbmaker-2-1pi","title":"Write a README for users stumbling into this github page","status":"in_progress","priority":2,"issue_type":"task","created_at":"2026-01-09T11:04:57.929676-08:00","created_by":"danyel","updated_at":"2026-01-09T11:08:15.2345-08:00"}
{"id":"sbmaker-2-qnv","title":"Improve startup feedback - reduce verbose Lima messages","description":"At startup, it takes a while with minimal progress. Displays lots of messages like 'INFO[0045] [hostagent] Waiting for the optional requirement 1 of 1: \"user probe 1/1\"'. Need better user feedback during VM creation/startup.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-09T11:06:21.589273-08:00","created_by":"danyel","updated_at":"2026-01-09T11:08:21.30904-08:00","closed_at":"2026-01-09T11:08:21.30904-08:00","close_reason":"Added spinner with progress feedback, suppresses verbose Lima output by default. Use --verbose flag or CSB_VERBOSE=true to see full output."}
{"id":"sbmaker-2-v0c","title":"Create pre-configured Claude VM","description":"This will be a Lima-powered VM. When the user invokes the script, it should start the VM in the current directory, setting the current directory as \"/workspace\" inside the VM. The VM should have Beads and Claude installed, and should pre-start Claude. It should have limited internet access - only for install sources like github, python repos, npm, and so on. If the user calls the script a second time in the same folder, it should use the same VM.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-09T10:23:37.69147-08:00","created_by":"danyel","updated_at":"2026-01-09T10:59:26.593328-08:00","closed_at":"2026-01-09T10:59:26.593328-08:00","close_reason":"Implementation complete: csb CLI with Lima VM template, network allowlist, and all commands implemented","comments":[{"id":1,"issue_id":"sbmaker-2-v0c","author":"danyel","text":"## Design: csb (Claude SandBox)\n\n### Overview\n\nBash CLI tool using Lima VMs for sandboxed Claude development. Each project directory gets its own persistent VM with Claude Code + Superpowers pre-installed, running in YOLO mode.\n\n### Commands\n\n| Command | Description |\n|---------|-------------|\n| `csb start` | Create new Claude session, attach (creates VM on first run) |\n| `csb stop` | Shut down the VM |\n| `csb shell` | Open bash shell inside VM |\n| `csb attach \u003cn\u003e` | Attach to session n (starts VM if stopped) |\n| `csb list` | Show VM status and all sessions |\n| `csb config` | Adjust VM resources (requires restart) |\n| `csb status` | Show VM state |\n\n### Directory Mapping\n\n- `.csb` file in project root stores VM name + config\n- VM name: `csb-\u003c6-char-hash\u003e` (generated once, stored)\n- Moving directory works (name travels with .csb file)\n\n### VM Spec\n\n- **Base:** Debian slim\n- **Default resources:** 2 CPU, 2GB RAM, 20GB disk\n- **Mount:** Current directory → `/workspace`\n- **Session management:** tmux (auto-incrementing session numbers)\n\n### Network Allowlist (category-based)\n\n**Package managers:** pypi.org, registry.npmjs.org, crates.io, rubygems.org, proxy.golang.org\n\n**Code hosts:** github.com, gitlab.com, bitbucket.org (+ raw.githubusercontent.com)\n\n**Claude:** api.anthropic.com, console.anthropic.com, statsig.anthropic.com\n\nEverything else blocked via iptables.\n\n### Provisioning (first run)\n\n1. Create Lima VM from template\n2. Install: tmux, git, curl, build-essential, python3, nodejs\n3. Install: Claude Code CLI, beads, Superpowers plugin\n4. Configure YOLO mode\n5. Apply network restrictions\n\n### File Structure\n\n```\n~/.csb/\n├── template.yaml      # Lima VM template\n├── network-rules.sh   # iptables allowlist\n└── vms/               # (Lima manages in ~/.lima/)\n\n/project/\n└── .csb               # VM name + config\n```\n\n### Implementation\n\nSingle bash script (~200-300 lines) at /usr/local/bin/csb or ~/bin/csb.","created_at":"2026-01-09T18:47:08Z"}]}
{"id":"sbmaker-2-v0c.1","title":"Create Lima VM template (template.yaml)","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-09T10:54:44.047628-08:00","created_by":"danyel","updated_at":"2026-01-09T10:56:00.263018-08:00","closed_at":"2026-01-09T10:56:00.263018-08:00","close_reason":"Closed","dependencies":[{"issue_id":"sbmaker-2-v0c.1","depends_on_id":"sbmaker-2-v0c","type":"parent-child","created_at":"2026-01-09T10:54:44.048281-08:00","created_by":"danyel"}]}
{"id":"sbmaker-2-v0c.2","title":"Create network allowlist script (network-rules.sh)","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-09T10:54:44.199181-08:00","created_by":"danyel","updated_at":"2026-01-09T10:56:26.394089-08:00","closed_at":"2026-01-09T10:56:26.394089-08:00","close_reason":"Closed","dependencies":[{"issue_id":"sbmaker-2-v0c.2","depends_on_id":"sbmaker-2-v0c","type":"parent-child","created_at":"2026-01-09T10:54:44.199659-08:00","created_by":"danyel"}]}
{"id":"sbmaker-2-v0c.3","title":"Create main csb bash script","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-09T10:54:44.349191-08:00","created_by":"danyel","updated_at":"2026-01-09T10:57:23.301453-08:00","closed_at":"2026-01-09T10:57:23.301453-08:00","close_reason":"Closed","dependencies":[{"issue_id":"sbmaker-2-v0c.3","depends_on_id":"sbmaker-2-v0c","type":"parent-child","created_at":"2026-01-09T10:54:44.349644-08:00","created_by":"danyel"},{"issue_id":"sbmaker-2-v0c.3","depends_on_id":"sbmaker-2-v0c.1","type":"blocks","created_at":"2026-01-09T10:54:50.104089-08:00","created_by":"danyel"},{"issue_id":"sbmaker-2-v0c.3","depends_on_id":"sbmaker-2-v0c.2","type":"blocks","created_at":"2026-01-09T10:54:50.186381-08:00","created_by":"danyel"}]}
{"id":"sbmaker-2-v0c.4","title":"Test csb implementation","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-09T10:54:44.503971-08:00","created_by":"danyel","updated_at":"2026-01-09T10:59:21.813443-08:00","closed_at":"2026-01-09T10:59:21.813443-08:00","close_reason":"Closed","dependencies":[{"issue_id":"sbmaker-2-v0c.4","depends_on_id":"sbmaker-2-v0c","type":"parent-child","created_at":"2026-01-09T10:54:44.504474-08:00","created_by":"danyel"},{"issue_id":"sbmaker-2-v0c.4","depends_on_id":"sbmaker-2-v0c.3","type":"blocks","created_at":"2026-01-09T10:54:50.267103-08:00","created_by":"danyel"}]}
